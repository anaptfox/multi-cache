function now(){return(new Date).getTime()}var TinyCache=function(){var e=this;return e.cache={},e.debug=!1,e.hitCount=0,e.missCount=0,e};TinyCache.prototype.put=function(e,n,t){var i=this;i.debug&&console.log("caching: "+e+" = "+n+" (@"+t+")");var o=i.cache[e];o&&clearTimeout(o.timeout);var c=t+now(),r={value:n,expire:c};isNaN(c)||function(){var n=i,o=setTimeout(function(){n.del(e)},t);r.timeout=o}(),i.cache[e]=r},TinyCache.prototype.del=function(e){var n=this;delete n.cache[e]},TinyCache.prototype.clear=function(){var e=this;e.cache={}},TinyCache.prototype.get=function(e){var n=this,t=n.cache[e];if("undefined"!=typeof t){if(isNaN(t.expire)||t.expire>=now())return n.debug&&n.hitCount++,t.value;n.debug&&n.missCount++,n.del(e)}return null},TinyCache.prototype.size=function(){var e,n=this,t=0;for(e in n.cache)n.cache.hasOwnProperty(e)&&null!==n.get(e)&&t++;return t},TinyCache.prototype.memsize=function(){var e,n=this,t=0;for(e in n.cache)n.cache.hasOwnProperty(e)&&t++;return t},TinyCache.prototype.hits=function(){var e=this;return e.hitCount},TinyCache.prototype.misses=function(){var e=this;return e.missCount},TinyCache.shared=new TinyCache,"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=TinyCache:"function"==typeof define&&define.amd?define([],function(){return TinyCache}):window.TinyCache=TinyCache;